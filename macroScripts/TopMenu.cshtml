@using umbraco.MacroEngines;
@{
  dynamic homeNode = new DynamicNode(1057);  
  dynamic articleTypesNode = new DynamicNode(1259);
}

<div class="navbar navbar-inverse">      
  <div class="container">
  <div class="navbar-inner">      
   <div class="nav-collapse collapse">     
     <ul class="nav pull-right">
         <li class='@(Model.Id == Model.AncestorOrSelf().Id ? "active" : "")'>         
            <a href="/">Home</a>
         </li>
         <li class='dropdown'>
            <a href="#" class="dropdown-toggle" data-toggle="dropdown">Guides</a>
            <ul class="dropdown-menu" role="menu" aria-labelledby="dropdownMenu">
              @foreach(var category in articleTypesNode.Children)
              {
                <li><a href="/guides/@category.urlAlias">@category.menuName</a></li>
              }
            </ul>
         </li>
         @foreach(var node in homeNode.Descendants())
         {
           if (node.Level == 2 && node.Visible)
           {
            <li class='@(Model.Id == node.Id ? "active" : "")'>
             <a href="@node.Url">@node.Name</a>
            </li>
            }
         }          
      </ul>   
    </div>
  </div>
  </div>
</div>